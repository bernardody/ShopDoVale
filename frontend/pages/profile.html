<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Meu Perfil - Shop do Vale">
    <title>Meu Perfil - Shop do Vale</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/images/logo/favicon.ico">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/reset.css">
    <link rel="stylesheet" href="/assets/css/variables.css">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/components.css">
    <link rel="stylesheet" href="/assets/css/forms.css">
    <link rel="stylesheet" href="/assets/css/responsive.css">
    
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <!-- Navbar Container -->
    <div id="navbar-root"></div>
    
    <!-- Main Content -->
    <main id="app" class="profile-page">
        <div class="container">
            <!-- Page Header -->
            <div class="page-header">
                <h1 class="page-title">Meu Perfil</h1>
                <div class="breadcrumb">
                    <a href="/" class="breadcrumb-item">Início</a>
                    <span class="breadcrumb-separator">/</span>
                    <span class="breadcrumb-item active">Meu Perfil</span>
                </div>
            </div>

            <!-- Profile Content -->
            <div class="profile-container">
                <!-- Sidebar -->
                <aside class="profile-sidebar">
                    <!-- User Info -->
                    <div class="profile-user-card">
                        <div class="profile-avatar-wrapper">
                            <div class="avatar avatar-xl" id="profile-avatar">
                                <span id="avatar-initials">U</span>
                                <img src="" alt="" class="d-none" id="avatar-image">
                            </div>
                            <button class="profile-avatar-edit" id="avatar-edit-btn">
                                <span class="material-icons">camera_alt</span>
                            </button>
                            <input type="file" id="avatar-input" class="d-none" accept="image/*">
                        </div>
                        <h3 class="profile-user-name" id="user-name">Carregando...</h3>
                        <p class="profile-user-email" id="user-email">...</p>
                        <span class="badge badge-primary" id="user-type">Consumidor</span>
                    </div>

                    <!-- Navigation -->
                    <nav class="profile-nav">
                        <a href="#dados-pessoais" class="profile-nav-item active" data-tab="dados-pessoais">
                            <span class="material-icons">person</span>
                            Dados Pessoais
                        </a>
                        <a href="#seguranca" class="profile-nav-item" data-tab="seguranca">
                            <span class="material-icons">security</span>
                            Segurança
                        </a>
                        <a href="#enderecos" class="profile-nav-item" data-tab="enderecos">
                            <span class="material-icons">location_on</span>
                            Endereços
                        </a>
                        <a href="#notificacoes" class="profile-nav-item" data-tab="notificacoes">
                            <span class="material-icons">notifications</span>
                            Notificações
                        </a>
                        <a href="#privacidade" class="profile-nav-item" data-tab="privacidade">
                            <span class="material-icons">privacy_tip</span>
                            Privacidade
                        </a>
                    </nav>

                    <!-- Stats -->
                    <div class="profile-stats" id="profile-stats">
                        <div class="stat-item">
                            <span class="stat-value" id="stat-pedidos">0</span>
                            <span class="stat-label">Pedidos</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="stat-andamento">0</span>
                            <span class="stat-label">Em andamento</span>
                        </div>
                    </div>
                </aside>

                <!-- Main Content -->
                <div class="profile-content">
                    <!-- Loading State -->
                    <div class="profile-loading" id="profile-loading">
                        <div class="spinner"></div>
                    </div>

                    <!-- Dados Pessoais Tab -->
                    <div class="profile-tab active" id="tab-dados-pessoais">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Dados Pessoais</h2>
                                <p class="card-subtitle">Gerencie suas informações pessoais</p>
                            </div>
                            <div class="card-body">
                                <form id="profile-form">
                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="nome" class="form-label">Nome completo</label>
                                            <input type="text" class="form-control" id="nome" name="nome" required>
                                            <div class="invalid-feedback"></div>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="email" class="form-label">E-mail</label>
                                            <input type="email" class="form-control" id="email" name="email" required>
                                            <div class="invalid-feedback"></div>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="telefone" class="form-label">Telefone</label>
                                            <input type="tel" class="form-control" id="telefone" name="telefone">
                                            <div class="invalid-feedback"></div>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="cpf" class="form-label">CPF</label>
                                            <input type="text" class="form-control" id="cpf" name="cpf" readonly>
                                            <div class="form-text">CPF não pode ser alterado</div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="data_nascimento" class="form-label">Data de nascimento</label>
                                        <input type="date" class="form-control" id="data_nascimento" name="data_nascimento">
                                        <div class="invalid-feedback"></div>
                                    </div>

                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-primary" id="save-profile-btn">
                                            <span>Salvar alterações</span>
                                            <div class="spinner d-none"></div>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Segurança Tab -->
                    <div class="profile-tab" id="tab-seguranca">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Segurança</h2>
                                <p class="card-subtitle">Gerencie sua senha e configurações de segurança</p>
                            </div>
                            <div class="card-body">
                                <form id="password-form">
                                    <div class="form-group">
                                        <label for="current_password" class="form-label">Senha atual</label>
                                        <input type="password" class="form-control" id="current_password" name="current_password" required>
                                        <div class="invalid-feedback"></div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="new_password" class="form-label">Nova senha</label>
                                            <input type="password" class="form-control" id="new_password" name="new_password" required>
                                            <div class="form-text">Mínimo de 6 caracteres</div>
                                            <div class="invalid-feedback"></div>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="confirm_password" class="form-label">Confirmar nova senha</label>
                                            <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
                                            <div class="invalid-feedback"></div>
                                        </div>
                                    </div>

                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-primary" id="change-password-btn">
                                            <span>Alterar senha</span>
                                            <div class="spinner d-none"></div>
                                        </button>
                                    </div>
                                </form>

                                <hr class="my-5">

                                <!-- Two Factor Auth -->
                                <div class="security-section">
                                    <h3>Autenticação de dois fatores</h3>
                                    <p class="text-muted">Adicione uma camada extra de segurança à sua conta</p>
                                    <button class="btn btn-outline" disabled>
                                        Em breve
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Endereços Tab -->
                    <div class="profile-tab" id="tab-enderecos">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Endereços</h2>
                                <p class="card-subtitle">Gerencie seus endereços de entrega</p>
                                <button class="btn btn-primary btn-sm" id="add-address-btn">
                                    <span class="material-icons">add</span>
                                    Adicionar endereço
                                </button>
                            </div>
                            <div class="card-body">
                                <div id="addresses-list" class="addresses-list">
                                    <!-- Endereços serão carregados aqui -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Notificações Tab -->
                    <div class="profile-tab" id="tab-notificacoes">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Notificações</h2>
                                <p class="card-subtitle">Escolha como deseja receber notificações</p>
                            </div>
                            <div class="card-body">
                                <form id="notifications-form">
                                    <div class="notification-group">
                                        <h4>Notificações por E-mail</h4>
                                        
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="email_pedidos" checked>
                                            <label class="form-check-label" for="email_pedidos">
                                                Atualizações de pedidos
                                                <small class="d-block text-muted">Receba atualizações sobre o status dos seus pedidos</small>
                                            </label>
                                        </div>

                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="email_promocoes" checked>
                                            <label class="form-check-label" for="email_promocoes">
                                                Promoções e ofertas
                                                <small class="d-block text-muted">Fique por dentro das melhores ofertas</small>
                                            </label>
                                        </div>

                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="email_newsletter">
                                            <label class="form-check-label" for="email_newsletter">
                                                Newsletter semanal
                                                <small class="d-block text-muted">Novidades e dicas sobre produtos orgânicos</small>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="notification-group">
                                        <h4>Notificações por SMS</h4>
                                        
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="sms_pedidos">
                                            <label class="form-check-label" for="sms_pedidos">
                                                Atualizações importantes de pedidos
                                                <small class="d-block text-muted">Apenas para informações críticas de entrega</small>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-primary">
                                            Salvar preferências
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Privacidade Tab -->
                    <div class="profile-tab" id="tab-privacidade">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Privacidade</h2>
                                <p class="card-subtitle">Controle seus dados e privacidade</p>
                            </div>
                            <div class="card-body">
                                <div class="privacy-section">
                                    <h4>Visibilidade do perfil</h4>
                                    <div class="form-check">
                                        <input type="checkbox" class="form-check-input" id="profile_public">
                                        <label class="form-check-label" for="profile_public">
                                            Tornar meu perfil público para outros usuários
                                        </label>
                                    </div>
                                </div>

                                <hr>

                                <div class="privacy-section">
                                    <h4>Dados pessoais</h4>
                                    <p class="text-muted">Você pode solicitar uma cópia dos seus dados ou excluir sua conta</p>
                                    <div class="d-flex gap-3">
                                        <button class="btn btn-outline" id="export-data-btn">
                                            <span class="material-icons">download</span>
                                            Exportar meus dados
                                        </button>
                                        <button class="btn btn-outline text-danger" id="delete-account-btn">
                                            <span class="material-icons">delete_forever</span>
                                            Excluir minha conta
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer Container -->
    <div id="footer-root"></div>
    
    <!-- Modal Container -->
    <div id="modal-root"></div>
    
    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>
    
    <!-- Scripts Core -->
    <script src="/assets/js/core/utils.js"></script>
    <script src="/assets/js/core/api.js"></script>
    <script src="/assets/js/core/auth.js"></script>
    
    <!-- Scripts Components -->
    <script src="/assets/js/components/toast.js"></script>
    <script src="/assets/js/components/modal.js"></script>
    <script src="/assets/js/components/navbar.js"></script>
    
    <!-- Scripts Services -->
    <script src="/assets/js/services/user.service.js"></script>
    
    <!-- Page Script -->
    <script src="/assets/js/pages/profile.js"></script>
</body>
</html>